version = 1

[project]
name = "violations"

# Enable all checks with strict settings
[check.cloc]
check = "error"
max_lines = 5      # Very low to trigger multiple violations for testing
max_lines_test = 5

[check.escapes]
check = "error"

[[check.escapes.patterns]]
name = "unwrap"
pattern = "\\.unwrap\\(\\)"
action = "forbid"

[[check.escapes.patterns]]
name = "unsafe"
pattern = "unsafe\\s*\\{"
action = "comment"
comment = "// SAFETY:"

# Go-specific escape patterns
[[check.escapes.patterns]]
name = "go_unsafe_pointer"
pattern = "unsafe\\.Pointer"
action = "comment"
comment = "// SAFETY:"
source = ["**/*.go"]

[[check.escapes.patterns]]
name = "go_linkname"
pattern = "//go:linkname"
action = "comment"
comment = "// LINKNAME:"
source = ["**/*.go"]

[[check.escapes.patterns]]
name = "go_noescape"
pattern = "//go:noescape"
action = "comment"
comment = "// NOESCAPE:"
source = ["**/*.go"]

[golang.suppress]
check = "comment"

[check.agents]
check = "error"
required = ["CLAUDE.md"]
tables = "forbid"

[[check.agents.sections.required]]
name = "Landing the Plane"
advice = "Checklist for AI agents before completing work"

[check.docs]
check = "error"

[check.docs.toc]
check = "error"

[check.docs.links]
check = "error"

[check.tests]
check = "error"

[check.tests.commit]
check = "error"

[check.license]
check = "error"
license = "MIT"
copyright = "Test Organization"
