version = 1

[rust]
# source = ["**/*.rs"]
tests = ["**/tests/**/*.rs", "**/*_test.rs", "**/*_tests.rs"]
cfg_test_split = "count"  # recommended: "require"

[rust.suppress]
check = "comment"

[rust.policy]
lint_changes = "standalone"


[check.cloc]
max_lines_test = 1100  # TODO: refactor to 1000
advice_test = """
Can tests be parameterized using `yare` to be more concise?
If not, split large test files into a {module}_tests/ folder.
"""

# ONLY for intentionally large fixture/test data
# NEVER for tests or source files
exclude = [
    "tests/fixtures/cloc/**",
    "tests/fixtures/bench-*/**",
]

[check.agents]
required = ["CLAUDE.md"]
